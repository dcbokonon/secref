---
import BaseLayout from '../layouts/BaseLayout.astro';

// Import all our organized JSON data
const toolsFiles = [
  'reconnaissance', 'vulnerability-assessment', 'exploitation', 
  'defense-monitoring', 'forensics-ir', 'cryptography', 
  'mobile-security', 'cloud-security', 'hardware-physical', 
  'development-security'
];

const learningFiles = [
  'certifications', 'training-platforms', 'books-publications', 'academic-programs'
];

const communityFiles = [
  'physical-communities', 'online-communities', 'conferences-events'
];

const careerFiles = [
  'job-search', 'interview-prep', 'salary-compensation'
];

const practiceFiles = [
  'ctf', 'vulnerable-apps', 'bug-bounty'
];

const specializedFiles = [
  'cloud-security', 'iot-ics', 'mobile-security', 'automotive', 'blockchain'
];

const referencesFiles = [
  'standards-frameworks', 'tool-documentation', 'research-whitepapers'
];

const newsFiles = [
  'news-sites', 'podcasts-videos', 'social-media'
];

// Helper function to extract top items from nested JSON structure
function getTopItems(jsonData, count = 4) {
  const items = [];
  
  function extractItems(obj) {
    if (obj.items && Array.isArray(obj.items)) {
      obj.items.forEach(item => {
        if (item.name) {
          const notation = item.type === 'paid' ? '*' : '';
          items.push(item.name + notation);
        }
      });
    }
    if (obj.subcategories && Array.isArray(obj.subcategories)) {
      obj.subcategories.forEach(sub => extractItems(sub));
    }
    if (obj.categories && Array.isArray(obj.categories)) {
      obj.categories.forEach(cat => extractItems(cat));
    }
  }
  
  extractItems(jsonData);
  return items.slice(0, count);
}

// Load full JSON data including all categories and items
const toolsData = await Promise.all(
  toolsFiles.map(async (file) => {
    const data = await import(`../data/tools/${file}.json`);
    return { file, ...data.metadata, fullData: data };
  })
);

const learningData = await Promise.all(
  learningFiles.map(async (file) => {
    const data = await import(`../data/learning/${file}.json`);
    return { file, ...data.metadata, fullData: data };
  })
);

const communityData = await Promise.all(
  communityFiles.map(async (file) => {
    const data = await import(`../data/communities/${file}.json`);
    return { file, ...data.metadata, fullData: data };
  })
);

const careerData = await Promise.all(
  careerFiles.map(async (file) => {
    const data = await import(`../data/career/${file}.json`);
    return { file, ...data.metadata, fullData: data };
  })
);

const practiceData = await Promise.all(
  practiceFiles.map(async (file) => {
    const data = await import(`../data/practice/${file}.json`);
    return { file, ...data.metadata, fullData: data };
  })
);

const specializedData = await Promise.all(
  specializedFiles.map(async (file) => {
    const data = await import(`../data/specialized-domains/${file}.json`);
    return { file, ...data.metadata, fullData: data };
  })
);

const referencesData = await Promise.all(
  referencesFiles.map(async (file) => {
    const data = await import(`../data/references/${file}.json`);
    return { file, ...data.metadata, fullData: data };
  })
);

const newsData = await Promise.all(
  newsFiles.map(async (file) => {
    const data = await import(`../data/news/${file}.json`);
    return { file, ...data.metadata, fullData: data };
  })
);

// Calculate totals
const totalTools = toolsData.reduce((sum, item) => sum + item.totalItems, 0);
const totalLearning = learningData.reduce((sum, item) => sum + item.totalItems, 0);
const totalCommunity = communityData.reduce((sum, item) => sum + item.totalItems, 0);
const totalCareer = careerData.reduce((sum, item) => sum + item.totalItems, 0);
const totalPractice = practiceData.reduce((sum, item) => sum + item.totalItems, 0);
const totalSpecialized = specializedData.reduce((sum, item) => sum + item.totalItems, 0);
const totalReferences = referencesData.reduce((sum, item) => sum + item.totalItems, 0);
const totalNews = newsData.reduce((sum, item) => sum + item.totalItems, 0);

// Reorganize tools by category with full data
const toolsByPhase = {
  reconnaissance: toolsData.find(t => t.file === 'reconnaissance'),
  vulnerability: toolsData.find(t => t.file === 'vulnerability-assessment'),
  exploitation: toolsData.find(t => t.file === 'exploitation'),
  defense: toolsData.find(t => t.file === 'defense-monitoring'),
  forensics: toolsData.find(t => t.file === 'forensics-ir'),
  crypto: toolsData.find(t => t.file === 'cryptography'),
  mobile: toolsData.find(t => t.file === 'mobile-security'),
  cloud: toolsData.find(t => t.file === 'cloud-security'),
  hardware: toolsData.find(t => t.file === 'hardware-physical'),
  development: toolsData.find(t => t.file === 'development-security')
};

// Additional tool categories we need but don't have files for yet
const webSecurityData = { totalItems: 124, topTools: ['Burp Suite', 'OWASP ZAP', 'SQLMap', 'Nikto'] };
const networkTestingData = { totalItems: 89, topTools: ['Nmap', 'Wireshark', 'tcpdump', 'Masscan'] };
const siemData = { totalItems: 43, topTools: ['Splunk*', 'ELK Stack', 'QRadar*', 'Graylog'] };
const networkMonitoringData = { totalItems: 67, topTools: ['Snort', 'Suricata', 'Zeek', 'ntopng'] };
const endpointData = { totalItems: 52, topTools: ['CrowdStrike*', 'Sysmon', 'osquery', 'Carbon Black*'] };
const threatIntelData = { totalItems: 38, topTools: ['MISP', 'OpenCTI', 'ThreatConnect*', 'AlienVault'] };
const incidentResponseData = { totalItems: 45, topTools: ['TheHive', 'Velociraptor', 'GRR', 'KAPE'] };
const malwareAnalysisData = { totalItems: 73, topTools: ['Cuckoo', 'YARA', 'IDA Pro*', 'Ghidra'] };
const logAnalysisData = { totalItems: 41, topTools: ['Splunk', 'ELK', 'Graylog', 'LogParser'] };
const icsScadaData = { totalItems: 31, topTools: ['Shodan', 'PLCScan', 'S7comm', 'ISF'] };
const wirelessData = { totalItems: 64, topTools: ['Aircrack-ng', 'Kismet', 'WiFite', 'Reaver'] };
const osintData = { totalItems: 89, topTools: ['Shodan', 'theHarvester', 'SpiderFoot', 'Maltego*'] };

// Placeholder data for new sections
const complianceData = [
  { file: 'pci-dss', title: 'PCI-DSS', totalItems: 24, topItems: ['PCI DSS v4.0 Requirements', 'SAQ Templates', 'Scoping Guidance', 'Compensating Controls'] },
  { file: 'hipaa', title: 'HIPAA', totalItems: 18, topItems: ['Security Rule', 'Privacy Rule', 'Breach Notification', 'Risk Assessment'] },
  { file: 'gdpr', title: 'GDPR', totalItems: 31, topItems: ['Data Protection Principles', 'DPIA Templates', 'Privacy Notices', 'Breach Response'] },
  { file: 'iso27001', title: 'ISO 27001', totalItems: 42, topItems: ['Control Objectives', 'Risk Register', 'ISMS Documentation', 'Audit Checklists'] },
  { file: 'soc2', title: 'SOC 2', totalItems: 27, topItems: ['Trust Service Criteria', 'Control Activities', 'Evidence Collection', 'Report Types'] }
];
const totalCompliance = complianceData.reduce((sum, item) => sum + item.totalItems, 0);

const vulnIntelData = [
  { file: 'cve-databases', title: 'CVE Databases', totalItems: 15, topItems: ['NVD', 'MITRE CVE', 'CVE Details', 'VulDB'] },
  { file: 'exploit-databases', title: 'Exploit Databases', totalItems: 12, topItems: ['Exploit-DB', 'Metasploit DB', '0day.today*', 'Packet Storm'] },
  { file: 'vulnerability-feeds', title: 'Vulnerability Feeds', totalItems: 18, topItems: ['US-CERT', 'Full Disclosure', 'Vulners API', 'SecurityFocus'] },
  { file: 'bug-bounty-platforms', title: 'Bug Bounty Platforms', totalItems: 11, topItems: ['HackerOne', 'Bugcrowd', 'Synack*', 'YesWeHack'] }
];
const totalVulnIntel = vulnIntelData.reduce((sum, item) => sum + item.totalItems, 0);

const distrosData = [
  { file: 'offensive', title: 'Offensive Security', totalItems: 8, topItems: ['Kali Linux', 'Parrot Security', 'BlackArch', 'Pentoo'] },
  { file: 'defensive', title: 'Defensive Security', totalItems: 7, topItems: ['Security Onion', 'SIFT Workstation', 'REMnux', 'CAINE'] },
  { file: 'privacy', title: 'Privacy Focused', totalItems: 6, topItems: ['Tails', 'Whonix', 'Qubes OS', 'Kodachi'] }
];
const totalDistros = distrosData.reduce((sum, item) => sum + item.totalItems, 0);
---

<BaseLayout title="Home">
<style>
  .directory {
    max-width: 1000px;
    margin: 0 auto;
    font-size: 12px;
    line-height: 1.4;
  }
  .section {
    margin-bottom: 8px;
  }
  .section-header {
    display: flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
    padding: 4px 0;
  }
  .section-header:hover .section-title {
    text-decoration: underline;
  }
  .section-icon {
    font-family: monospace;
    font-size: 12px;
    margin-right: 8px;
    width: 12px;
    color: #666;
  }
  .section-title {
    font-size: 14px;
    font-weight: bold;
    text-transform: uppercase;
    flex: 1;
  }
  .section-count {
    font-size: 12px;
    font-weight: normal;
    opacity: 0.6;
  }
  .section-content {
    display: none;
    padding-left: 20px;
  }
  .toggle-checkbox {
    display: none;
  }
  .toggle-checkbox:checked ~ .section-content {
    display: block;
  }
  .toggle-checkbox:checked ~ .section-header .section-icon {
    content: "▼";
  }
  .toggle-checkbox:not(:checked) ~ .section-header .section-icon {
    content: "▶";
  }
  .section-icon::before {
    content: "▶";
  }
  .toggle-checkbox:checked ~ .section-header .section-icon::before {
    content: "▼";
  }
  .subsection-category {
    margin-bottom: 12px;
  }
  .category-title {
    font-size: 13px;
    font-weight: bold;
    color: #0ff;
    margin-bottom: 4px;
    padding: 4px 0;
  }
  .subsection {
    padding: 2px 0 2px 20px;
    position: relative;
  }
  .subsection::before {
    content: '▶';
    position: absolute;
    left: 8px;
    color: #666;
    font-size: 10px;
  }
  .subsection-title {
    font-size: 12px;
    font-weight: normal;
    display: inline;
  }
  .subsection-desc {
    display: none;
  }
  .subsection-count {
    font-size: 11px;
    font-weight: normal;
    opacity: 0.6;
    margin-left: 4px;
  }
  .subsection-link {
    display: none;
  }
  .subsection-preview {
    font-size: 11px;
    color: #888;
    margin-left: 4px;
  }
  
  /* Professional hierarchy-based color scheme */
  
  /* Top level sections - Bright Green */
  .tools { color: #0f0; }
  .learning { color: #0f0; }
  .practice { color: #0f0; }
  .community { color: #0f0; }
  .career { color: #0f0; }
  .references { color: #0f0; }
  .news { color: #0f0; }
  .compliance { color: #0f0; }
  .vulnintel { color: #0f0; }
  .distros { color: #0f0; }
  
  /* Sub-level categories - Cyan */
  .recon { color: #0ff; }
  .vuln { color: #0ff; }
  .exploit { color: #0ff; }
  .defense { color: #0ff; }
  .forensics { color: #0ff; }
  .crypto { color: #0ff; }
  .mobile { color: #0ff; }
  .cloud { color: #0ff; }
  .hardware { color: #0ff; }
  .dev { color: #0ff; }
  .specialized { color: #0ff; }
  
  /* Counts - Dim Yellow */
  .section-count { color: #cc0; }
  .subsection-count { color: #cc0; }
  
  /* Links */
  a.subsection-title { 
    color: inherit;
    text-decoration: none;
  }
  a.subsection-title:hover {
    text-decoration: underline;
  }
  
  .footer-stats {
    text-align: center;
    color: #666;
    font-size: 11px;
    margin: 20px 0;
    padding-top: 12px;
    border-top: 1px solid #333;
  }
</style>

<div class="directory">
  <!-- SECURITY TOOLS -->
  <div class="section">
    <input type="checkbox" id="security-tools" class="toggle-checkbox" />
    <label for="security-tools" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title tools">SECURITY TOOLS</div>
      <div class="section-count">({totalTools})</div>
    </label>
    <div class="section-content">
      <!-- Assessment & Testing -->
      <div class="subsection-category">
        <div class="category-title">▼ Assessment & Testing</div>
        
        <div class="subsection">
          <a href="/tools/reconnaissance" class="subsection-title recon">
            Reconnaissance
          </a>
          <span class="subsection-count">({toolsByPhase.reconnaissance.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(toolsByPhase.reconnaissance.fullData).join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/vulnerability-assessment" class="subsection-title vuln">
            Vulnerability Scanners
          </a>
          <span class="subsection-count">({toolsByPhase.vulnerability.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(toolsByPhase.vulnerability.fullData).join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/web-security" class="subsection-title">
            Web Application Testing
          </a>
          <span class="subsection-count">({webSecurityData.totalItems})</span>
          <span class="subsection-preview">→ {webSecurityData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/network-testing" class="subsection-title">
            Network Testing
          </a>
          <span class="subsection-count">({networkTestingData.totalItems})</span>
          <span class="subsection-preview">→ {networkTestingData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/exploitation" class="subsection-title exploit">
            Penetration Testing
          </a>
          <span class="subsection-count">({toolsByPhase.exploitation.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(toolsByPhase.exploitation.fullData).join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/osint" class="subsection-title">
            OSINT Tools
          </a>
          <span class="subsection-count">({osintData.totalItems})</span>
          <span class="subsection-preview">→ {osintData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/api-security" class="subsection-title">
            API Security Testing
          </a>
          <span class="subsection-count">(56)</span>
          <span class="subsection-preview">→ Postman, Insomnia, OWASP API Top 10, Burp API Scanner...</span>
        </div>
      </div>
      
      <!-- Monitoring & Detection -->
      <div class="subsection-category">
        <div class="category-title">▼ Monitoring & Detection</div>
        
        <div class="subsection">
          <a href="/tools/siem" class="subsection-title">
            SIEM Platforms
          </a>
          <span class="subsection-count">({siemData.totalItems})</span>
          <span class="subsection-preview">→ {siemData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/network-monitoring" class="subsection-title">
            Network Monitoring
          </a>
          <span class="subsection-count">({networkMonitoringData.totalItems})</span>
          <span class="subsection-preview">→ {networkMonitoringData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/endpoint-detection" class="subsection-title">
            Endpoint Detection
          </a>
          <span class="subsection-count">({endpointData.totalItems})</span>
          <span class="subsection-preview">→ {endpointData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/threat-intelligence" class="subsection-title">
            Threat Intelligence
          </a>
          <span class="subsection-count">({threatIntelData.totalItems})</span>
          <span class="subsection-preview">→ {threatIntelData.topTools.join(', ')}...</span>
        </div>
      </div>
      
      <!-- Response & Analysis -->
      <div class="subsection-category">
        <div class="category-title">▼ Response & Analysis</div>
        
        <div class="subsection">
          <a href="/tools/incident-response" class="subsection-title">
            Incident Response
          </a>
          <span class="subsection-count">({incidentResponseData.totalItems})</span>
          <span class="subsection-preview">→ {incidentResponseData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/forensics-ir" class="subsection-title forensics">
            Digital Forensics
          </a>
          <span class="subsection-count">({toolsByPhase.forensics.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(toolsByPhase.forensics.fullData).join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/malware-analysis" class="subsection-title">
            Malware Analysis
          </a>
          <span class="subsection-count">({malwareAnalysisData.totalItems})</span>
          <span class="subsection-preview">→ {malwareAnalysisData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/log-analysis" class="subsection-title">
            Log Analysis
          </a>
          <span class="subsection-count">({logAnalysisData.totalItems})</span>
          <span class="subsection-preview">→ {logAnalysisData.topTools.join(', ')}...</span>
        </div>
      </div>
      
      <!-- Specialized Domains -->
      <div class="subsection-category">
        <div class="category-title">▶ Specialized Domains</div>
        
        <div class="subsection">
          <a href="/tools/cloud-security" class="subsection-title cloud">
            Cloud Security
          </a>
          <span class="subsection-count">({toolsByPhase.cloud.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(toolsByPhase.cloud.fullData).join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/mobile-security" class="subsection-title mobile">
            Mobile Security
          </a>
          <span class="subsection-count">({toolsByPhase.mobile.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(toolsByPhase.mobile.fullData).join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/ics-scada" class="subsection-title">
            ICS/SCADA Security
          </a>
          <span class="subsection-count">({icsScadaData.totalItems})</span>
          <span class="subsection-preview">→ {icsScadaData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/wireless" class="subsection-title">
            Wireless Security
          </a>
          <span class="subsection-count">({wirelessData.totalItems})</span>
          <span class="subsection-preview">→ {wirelessData.topTools.join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/hardware-physical" class="subsection-title hardware">
            Hardware Security
          </a>
          <span class="subsection-count">({toolsByPhase.hardware.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(toolsByPhase.hardware.fullData).join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/cryptography" class="subsection-title crypto">
            Cryptography Tools
          </a>
          <span class="subsection-count">({toolsByPhase.crypto.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(toolsByPhase.crypto.fullData).join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/development-security" class="subsection-title dev">
            DevSecOps Tools
          </a>
          <span class="subsection-count">({toolsByPhase.development.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(toolsByPhase.development.fullData).join(', ')}...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/container-security" class="subsection-title">
            Container Security
          </a>
          <span class="subsection-count">(48)</span>
          <span class="subsection-preview">→ Trivy, Falco, Sysdig*, Twistlock*...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/supply-chain-security" class="subsection-title">
            Supply Chain Security
          </a>
          <span class="subsection-count">(37)</span>
          <span class="subsection-preview">→ Dependabot, Snyk*, OWASP Dependency-Check, Nancy...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/zero-trust" class="subsection-title">
            Zero Trust Architecture
          </a>
          <span class="subsection-count">(29)</span>
          <span class="subsection-preview">→ Cloudflare Zero Trust, Zscaler*, Palo Alto Prisma*, BeyondCorp...</span>
        </div>
        
        <div class="subsection">
          <a href="/tools/ai-ml-security" class="subsection-title">
            AI/ML Security
          </a>
          <span class="subsection-count">(31)</span>
          <span class="subsection-preview">→ Adversarial Robustness Toolbox, CleverHans, Foolbox, ModelScan...</span>
        </div>
        
        {specializedData.map((item) => (
          <div class="subsection">
            <a href={`/specialized/${item.file}`} class="subsection-title specialized">
              {item.title}
            </a>
            <span class="subsection-count">({item.totalItems})</span>
            <span class="subsection-preview">→ {getTopItems(item.fullData).join(', ')}...</span>
          </div>
        ))}
      </div>
    </div>
  </div>

  <!-- LEARNING RESOURCES -->
  <div class="section">
    <input type="checkbox" id="learning" class="toggle-checkbox" />
    <label for="learning" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title learning">LEARNING RESOURCES</div>
      <div class="section-count">({totalLearning})</div>
    </label>
    <div class="section-content">
      {learningData.map((resource) => (
        <div class="subsection">
          <a href={`/learning/${resource.file}`} class="subsection-title learning">
            {resource.title}
          </a>
          <span class="subsection-count">({resource.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(resource.fullData).join(', ')}...</span>
        </div>
      ))}
    </div>
  </div>

  <!-- PRACTICE & CHALLENGES -->
  <div class="section">
    <input type="checkbox" id="practice" class="toggle-checkbox" />
    <label for="practice" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title practice">PRACTICE & CHALLENGES</div>
      <div class="section-count">({totalPractice})</div>
    </label>
    <div class="section-content">
      {practiceData.map((practice) => (
        <div class="subsection">
          <a href={`/practice/${practice.file}`} class="subsection-title practice">
            {practice.title}
          </a>
          <span class="subsection-count">({practice.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(practice.fullData).join(', ')}...</span>
        </div>
      ))}
    </div>
  </div>

  <!-- COMMUNITY -->
  <div class="section">
    <input type="checkbox" id="community" class="toggle-checkbox" />
    <label for="community" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title community">COMMUNITY</div>
      <div class="section-count">({totalCommunity})</div>
    </label>
    <div class="section-content">
      {communityData.map((community) => (
        <div class="subsection">
          <a href={`/community/${community.file}`} class="subsection-title community">
            {community.title}
          </a>
          <span class="subsection-count">({community.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(community.fullData).join(', ')}...</span>
        </div>
      ))}
    </div>
  </div>

  <!-- CAREER RESOURCES -->
  <div class="section">
    <input type="checkbox" id="career" class="toggle-checkbox" />
    <label for="career" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title career">CAREER RESOURCES</div>
      <div class="section-count">({totalCareer})</div>
    </label>
    <div class="section-content">
      {careerData.map((career) => (
        <div class="subsection">
          <a href={`/career/${career.file}`} class="subsection-title career">
            {career.title}
          </a>
          <span class="subsection-count">({career.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(career.fullData).join(', ')}...</span>
        </div>
      ))}
    </div>
  </div>

  <!-- REFERENCES & DOCUMENTATION -->
  <div class="section">
    <input type="checkbox" id="references" class="toggle-checkbox" />
    <label for="references" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title references">REFERENCES & DOCUMENTATION</div>
      <div class="section-count">({totalReferences})</div>
    </label>
    <div class="section-content">
      {referencesData.map((reference) => (
        <div class="subsection">
          <a href={`/references/${reference.file}`} class="subsection-title references">
            {reference.title}
          </a>
          <span class="subsection-count">({reference.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(reference.fullData).join(', ')}...</span>
        </div>
      ))}
    </div>
  </div>

  <!-- NEWS & INFORMATION -->
  <div class="section">
    <input type="checkbox" id="news" class="toggle-checkbox" />
    <label for="news" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title news">NEWS & INFORMATION</div>
      <div class="section-count">({totalNews})</div>
    </label>
    <div class="section-content">
      {newsData.map((newsItem) => (
        <div class="subsection">
          <a href={`/news/${newsItem.file}`} class="subsection-title news">
            {newsItem.title}
          </a>
          <span class="subsection-count">({newsItem.totalItems})</span>
          <span class="subsection-preview">→ {getTopItems(newsItem.fullData).join(', ')}...</span>
        </div>
      ))}
    </div>
  </div>

  <!-- COMPLIANCE & STANDARDS -->
  <div class="section">
    <input type="checkbox" id="compliance" class="toggle-checkbox" />
    <label for="compliance" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title compliance">COMPLIANCE & STANDARDS</div>
      <div class="section-count">({totalCompliance})</div>
    </label>
    <div class="section-content">
      {complianceData.map((item) => (
        <div class="subsection">
          <a href={`/compliance/${item.file}`} class="subsection-title compliance">
            {item.title}
          </a>
          <span class="subsection-count">({item.totalItems})</span>
          <span class="subsection-preview">→ {item.topItems.join(', ')}...</span>
        </div>
      ))}
    </div>
  </div>

  <!-- VULNERABILITY INTELLIGENCE -->
  <div class="section">
    <input type="checkbox" id="vuln-intel" class="toggle-checkbox" />
    <label for="vuln-intel" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title vulnintel">VULNERABILITY INTELLIGENCE</div>
      <div class="section-count">({totalVulnIntel})</div>
    </label>
    <div class="section-content">
      {vulnIntelData.map((item) => (
        <div class="subsection">
          <a href={`/vulnerability-intelligence/${item.file}`} class="subsection-title vulnintel">
            {item.title}
          </a>
          <span class="subsection-count">({item.totalItems})</span>
          <span class="subsection-preview">→ {item.topItems.join(', ')}...</span>
        </div>
      ))}
    </div>
  </div>

  <!-- SECURITY DISTRIBUTIONS -->
  <div class="section">
    <input type="checkbox" id="distros" class="toggle-checkbox" />
    <label for="distros" class="section-header">
      <div class="section-icon"></div>
      <div class="section-title distros">SECURITY DISTRIBUTIONS</div>
      <div class="section-count">({totalDistros})</div>
    </label>
    <div class="section-content">
      {distrosData.map((item) => (
        <div class="subsection">
          <a href={`/distributions/${item.file}`} class="subsection-title distros">
            {item.title}
          </a>
          <span class="subsection-count">({item.totalItems})</span>
          <span class="subsection-preview">→ {item.topItems.join(', ')}...</span>
        </div>
      ))}
    </div>
  </div>
</div>

<div class="footer-stats">
  {totalTools + totalLearning + totalCommunity + totalCareer + totalPractice + totalSpecialized + totalReferences + totalNews + totalCompliance + totalVulnIntel + totalDistros} resources | Updated: {new Date().toLocaleDateString()}
</div>
</BaseLayout>